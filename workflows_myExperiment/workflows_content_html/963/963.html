<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="google-site-verification" content="3hq0Cfhw5_-EaaNMum0ETX847sTl7jeQ3ZNAla4a6UQ" />
  
  <title>myExperiment &#45; Workflows &#45; caArray data retrieving (Wei Tan) [Taverna 2 Workflow]</title>
  <link rel="alternate" href="http://www.myexperiment.org/workflows/963.rdf" type="application/rdf+xml" title="RDF+XML" />
  <link rel="alternate" href="http://www.myexperiment.org/workflows/963.xml" type="application/xml" title="REST XML" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
  <link href="/stylesheets/acts_as_taggable_stylesheet.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/star_rating.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/gadgets.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/misc_skinning.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/pagination.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/bootstrap.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/navbar.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/styles.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
  <script src="/javascripts/jquery-1.11.1.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/jquery-noconflict.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/prototype-1.7.2-patched.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/effects.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/controls.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/boxover.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/bootstrap.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/tabs.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/folds.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/application.js?1680607579" type="text/javascript"></script>

  
  






  
  
    <script src='//www.google.com/recaptcha/api.js'></script>
  
</head>
<body>



<div class="navbar navbar-myexp" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
          <a id="logo" href="/">
            <img alt="Logo" class="hidden-sm" src="/images/logo.png?1680607579" />
            <img alt="Logo_cropped" class="visible-sm" src="/images/logo_cropped.png?1680607579" />
          </a>
      
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        
          <ul class="nav navbar-nav">
  
    <li >
      <a href="/home">Home</a>    </li>
  
    <li >
      <a href="/users">Users</a>    </li>
  
    <li >
      <a href="/groups">Groups</a>    </li>
  
    <li class="active">
      <a href="/workflows">Workflows</a>    </li>
  
    <li >
      <a href="/files">Files</a>    </li>
  
    <li >
      <a href="/packs">Packs</a>    </li>
  
</ul>

        
        
            <form action="/search" class="navbar-form navbar-left" id="search" method="get">
    <div class="input-group">
      <input class="form-control" id="query" name="query" placeholder="Search" type="text" />
      <span class="input-group-btn">
        
        <input class="btn btn-default" name="commit" type="submit" value="Go" />
        </span>
    </div>
</form>

        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
            <li><a href="/session/new?return_to=%2Fworkflows%2F963.html">Log in</a></li>
    <li><a href="/users/new">Register</a></li>


      </ul>
    </div><!--/.nav-collapse -->
  </div>
  
</div>




    <div class="container" id="main">
      <div id="myexp_breadcrumbs_bar">
        <ol class="breadcrumb">
  <li><a href="/home">Home</a></li>
  


  <li><a href="/workflows">Workflows</a></li>



  
    <li>caArray data retrieving</li>
  


  <div style="float: right"></div>
</ol>

      </div>
      <div id="myexp_content">
        


        



<h1 class="contribution_title">
  caArray data retrieving
</h1>

<div class="contribution_aftertitle">
	<b>Created:</b> 2009-11-23 18:09:47
	
</div>
<ul class="sectionIcons">
  
      <li><span class="icon"><a href="http://www.myexperiment.org/workflows/963/download/caArray_data_retrieving-v1.t2flow?version=1"><img alt="Download Workflow (for version 1)" src="/images/redmond_studio/arrow-down_16.png?1680607579" /> Download Workflow</a></span></li>
      
  
      
</ul>


<div class="contribution_left_box">

  <div class="contribution_version_box">



    <div class="contribution_version_inner_box">

      
    <div class="contribution_description">
      <p>
Query all the gene expression data in a caArray experiment. Returns a evenly divided gene expression data set with corresponding class information. They ca be later used as training and test data set in many classification algorithms.<hr />Query all the gene expression data in a caArray experiment. Returns a evenly divided gene expression data set with corresponding class information. They can be later used as training and test data set in many classification algorithms.
</p>


    </div>


      <h3>
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This section shows the preview of this version of the Workflow (click on the image to expand)] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Preview
      </h3>

      

          <div class="contribution_preview" style="width: 100%;">
            <p style="text-align: center">
              <a href="/workflows/963/versions/1/previews/full" onclick="window.open(this.href);return false;"><img alt="Medium" src="/workflows/963/versions/1/previews/medium" /></a>
            </p>
            
                <p style="text-align: right; color: #666666;">
                  <a href="/workflows/963/versions/1/previews/svg">Download as scalable diagram (SVG)</a>
                </p>
            

            
          </div>
      



      <h3>
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This section provides options for running this version of the Workflow] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Run
      </h3>

      
          
              <div style="margin: 0 0.5em;">
	<h4>
		Run this Workflow in the Taverna Workbench...
	</h4>
	
	<div class="option_box">
		
		<p style="text-align: center;">
			<b>Option 1:</b>
		</p>
		
		<p style="font-size: 93%; text-align: center;">
			Copy and paste this link into File > 'Open workflow location...'<br/>
			<a href="http://www.myexperiment.org/workflows/963/download?version=1">http://www.myexperiment.org/workflows/963/download?version=1</a><br/>
			<small>[ <a href="#" onclick="Effect.toggle(&quot;run_taverna_more_box&quot;,'blind',{duration:0.3});; return false;">More Info<img alt="Expand" src="/images/folds/unfold.png?1680607579" style="margin-left: 0.3em; vertical-align: middle;" /></a> ]</small>
		</p>
		
		<div id="run_taverna_more_box" style="display: none;">
			<p style="font-size: 85%; margin-top: 0.5em; text-align: center;">
				Taverna is available from <a href="http://taverna.sourceforge.net/" onclick="window.open(this.href);return false;">http://taverna.sourceforge.net/</a>
			</p>
			
			<p style="text-align: center; margin-top: 0.5em; font-size: 85%;">
				If you are having problems downloading it in Taverna, you may need to provide your username and password in the URL so that Taverna can access the Workflow: <br/>
				
					<b>Replace <font color="#990000">http://</font> in the link above with <font color="#990000">http://yourusername:yourpassword@</font></b>
				
			</p>
		</div>
	
	</div>
</div>


          
      

      <br/>

      <h3>
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This section shows the internal components of this workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Workflow Components
      </h3>

      
          
              
	    <!-- Authors -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This is the author information extracted from the workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Authors (1)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
                          <tr>
                <td>Wei Tan
University of Chicago and Argonne National Lab</td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Titles -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[These are the descriptive titles embedded within the workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Titles (1)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
                          <tr>
                <td>caArray data retrieving</td>
              </tr>
            
          </table>
        
      </div>
    </div>

    <!-- Descriptions -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[These are the descriptions embedded within the workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Descriptions (2)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
                          <tr>
                <td>Query all the gene expression data in a caArray experiment. Returns a evenly divided gene expression data set with corresponding class information. They ca be later used as training and test data set in many classification algorithms.</td>
              </tr>
                          <tr>
                <td>Query all the gene expression data in a caArray experiment. Returns a evenly divided gene expression data set with corresponding class information. They can be later used as training and test data set in many classification algorithms.</td>
              </tr>
            
          </table>
        
      </div>
    </div>
        
    <!-- Dependencies -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[These are the listed dependencies of the workflow] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Dependencies (0)
      </div>
      <div class="foldContent" style="display: none;">
        
          <p class="none_text">None</p>
        
      </div>
    </div>
        
    <!-- Sources -->
        <div class="fold">
      <div class="foldTitle">
        Inputs (1)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
          
                          <tr>
                <td><b>EXP_ID</b></td>
                <td>
                  
                    
                      The id of the experiment in NCI caArray database. See https://array.nci.nih.gov/caarray/.
Returns a evenly                       <hr />
                    
                      The id of the experiment in NCI caArray database. See https://array.nci.nih.gov/caarray/.
Returns a evenly divided gene expression data set with corresponding class information. They ca be later used as training and test data set in many classification algorithms.                      <hr />
                    
                      The id of the experiment in NCI caArray database. See https://array.nci.nih.gov/caarray/                      <hr />
                    
                      The id of the experiment in NCI caArray database.                      <hr />
                    
                      The id of the experiment in NCI caArray database. See https://array.nci.nih.gov/caarray/.
                      
                    
                  
                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
      
    <!-- Processors -->
        <div class="fold">
      <div class="foldTitle">
        Processors (6)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          
                          <tr>
                <td><b>searchForHybridizations</b></td>
                <td>wsdl</td>
                <td>
                                    <div><h3>Wsdl</h3>http://array.nci.nih.gov/wsrf/services/cagrid/CaArraySvc_v1_0?wsdl</div><div><h3>Wsdl Operation</h3>searchForHybridizations</div>                </td>
              </tr>
                          <tr>
                <td><b>Beanshell</b></td>
                <td>beanshell</td>
                <td>
                                    <div><h3>Script</h3><pre>searchHyb = "<SearchForHybridizationsRequest xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://grid.v1_0.external.services.caarray.nci.nih.gov/CaArraySvc_v1_0\"><criteria><ns1:HybridizationSearchCriteria xmlns:ns1=\"gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.query\"><ns1:experiment id=\"URN:LSID:caarray.nci.nih.gov:gov.nih.nci.caarray.external.v1_0.experiment.Experiment:"+expid+"\"/><ns1:names/><ns1:biomaterials/></ns1:HybridizationSearchCriteria></criteria><limitOffset><ns2:LimitOffset xsi:nil=\"true\" xmlns:ns2=\"gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.query\"/></limitOffset></SearchForHybridizationsRequest>";</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>Beanshell2</b></td>
                <td>beanshell</td>
                <td>
                                    <div><h3>Script</h3><pre>import java.io.File;
import java.util.ArrayList;
import java.util.List;
import java.io.IOException;
import java.io.StringReader;
import java.io.StringWriter;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerException;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;
import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathConstants;
import javax.xml.xpath.XPathExpressionException;
import javax.xml.xpath.XPathFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;

try{
DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();
		docBuilderFactory.setNamespaceAware(true);
        DocumentBuilder docBuilder;
docBuilder = docBuilderFactory.newDocumentBuilder();

   Document doc2 = docBuilder.parse( new InputSource(new StringReader(i)));
			    
				
				Element el = doc2.getDocumentElement();
			   
			XPath xpath = XPathFactory.newInstance().newXPath();
			
			String findHybridizationExpression = 
			"//*[local-name()='AbstractCaArrayEntity' and namespace-uri()='gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.sample']/@id";
			//id="URN:LSID:caarray.nci.nih.gov:gov.nih.nci.caarray.external.v1_0.sample.Hybridization:8388"
			NodeList  nodes = (NodeList) xpath.evaluate(findHybridizationExpression, el, XPathConstants.NODESET);
			System.out.println(nodes.getLength());
			
			StringBuffer cql = new StringBuffer("<dataSetRequest><ns1:DataSetRequest xmlns:ns1=\"gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.query\"><ns1:quantitationTypes><ns2:CaArrayEntityReference id=\"URN:LSID:caarray.nci.nih.gov:gov.nih.nci.caarray.external.v1_0.data.QuantitationType:5\" xmlns:ns2=\"gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external\"/></ns1:quantitationTypes><ns1:hybridizations>");
			for (int i=0;i<nodes.getLength();i++){
				Node n = nodes.item(i);
				//System.out.println(n.getTextContent());
				
				cql.append("<ns4:CaArrayEntityReference id=\""+ n.getTextContent() + "\" xmlns:ns4=\"gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external\"/>");		
			}
			cql.append("</ns1:hybridizations><ns1:dataFiles/></ns1:DataSetRequest></dataSetRequest>");
			o = cql.toString();

			


		
		    	
		} catch (ParserConfigurationException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (SAXException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (XPathExpressionException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>getDataSet</b></td>
                <td>wsdl</td>
                <td>
                                    <div><h3>Wsdl</h3>http://array.nci.nih.gov/wsrf/services/cagrid/CaArraySvc_v1_0?wsdl</div><div><h3>Wsdl Operation</h3>getDataSet</div>                </td>
              </tr>
                          <tr>
                <td><b>getDataSet_input</b></td>
                <td>xmlsplitter</td>
                <td>
                                                    </td>
              </tr>
                          <tr>
                <td><b>Beanshell3</b></td>
                <td>beanshell</td>
                <td>
                                    <div><h3>Script</h3><pre>import java.io.*;
import java.util.ArrayList;
import java.util.List;
import java.util.zip.GZIPInputStream;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerException;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;
import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathConstants;
import javax.xml.xpath.XPathExpressionException;
import javax.xml.xpath.XPathFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;
import java.util.zip.GZIPInputStream;

public  byte[] doubleArrayToBytes(double [][] doubles)
{
	if(null == doubles || 0 == doubles.length)
		return null;
	int numRows = doubles.length;
	int numColumns = doubles[0].length;
	ByteArrayOutputStream bos = new ByteArrayOutputStream();
	DataOutputStream dos = new DataOutputStream(bos);
	try
	{
		for(int i = 0; i < numRows; i++)
		{
			for(int j = 0; j < numColumns; j++)
				dos.writeDouble(doubles[i][j]);

		}

	}
	catch(IOException e)
	{
		e.printStackTrace(System.err);
		throw new RuntimeException((new StringBuilder()).append("Error converting double array to byte array: ").append(e).toString());
	}
	return bos.toByteArray();
}

public float [] getFloatArray(String columnString){	
	//trim the string
	columnString = columnString.trim();
	int columnSize = 0;
	for(int i=0;i<columnString.length();i++){
		if(columnString.charAt(i)==' '){
			columnSize++;				
		}			
	}	
	columnSize++;
	String[] array = columnString.split(" ");
	float [] columnArray = new float[columnSize];
	for(int i=0;i<columnSize;i++){
		columnArray[i] = Float.valueOf(array[i]);
		
	}
	return columnArray;
}
	

///////////////////////////////////////////////////////////////////////////////
result = "";
int sampleLength = 0;
int sampleNo = 0;
		
try{

	DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();
	docBuilderFactory.setNamespaceAware(true);
	DocumentBuilder docBuilder;
	docBuilder = docBuilderFactory.newDocumentBuilder();
	//parse data column
	Document doc = docBuilder.parse( new InputSource(new StringReader(i)));	
	//Document doc = docBuilder.parse( new File(dataFile));	
	Element el = doc.getDocumentElement();   
	XPath xpath = XPathFactory.newInstance().newXPath();
	String findDataColumn = 
		"//*[local-name()='values' and namespace-uri()='gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.v1_0.data']";

	String findDesignElements = 
	"//*[local-name()='DesignElement' and namespace-uri()='gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.data']/@name";
	NodeList  designElementsNodes = (NodeList) xpath.evaluate(findDesignElements, el, XPathConstants.NODESET);
	NodeList  dataNodes = (NodeList) xpath.evaluate(findDataColumn, el, XPathConstants.NODESET);
	//get class information: DLBCL or FL
	String findFactorValue = 
		"//*[local-name()='term' and namespace-uri()='gme://External.caArray.caBIG/1.0/gov.nih.nci.caarray.external.value']/@value";
	NodeList  termNodes = (NodeList) xpath.evaluate(findFactorValue, el, XPathConstants.NODESET);
	sampleLength = designElementsNodes.getLength();
	sampleNo = dataNodes.getLength();
	System.out.println(sampleNo);
	//77*7129
	float [][] dataColumnValue = new float [dataNodes.getLength()][designElementsNodes.getLength()];
	for(int i=0;i<dataNodes.getLength();i++){
		dataColumnValue[i] = getFloatArray(dataNodes.item(i).getTextContent());
	}
	
		///////////////////////////////////////////////////////////////////////////////////////////////////////


		/////////////////////////////////prepare data for SVM
		
		//read a double (int?) [][] from .gct file
		//concert [][] into byte []
		//base64 encode
		//
		int length = dataColumnValue[0].length;
		System.out.println(length);
		double [][] trainingMicroArrayData  = new double[length][];
		double [][] testMicroArrayData  = new double[length][];
		int trainingLength;//39
		int testLength;//38
		if(dataColumnValue.length%2==1){
		trainingLength=dataColumnValue.length/2+1;
		}
		else {
		trainingLength=dataColumnValue.length/2;
		}
		testLength=dataColumnValue.length/2;
		for(int i=0;i<dataColumnValue[0].length;i++){
		trainingMicroArrayData[i] = new double[trainingLength];
		testMicroArrayData[i] =  new double[testLength];
		}

		for(int i=0;i<dataColumnValue.length;i++){
			if(i%2==0){//to training
				for(int j=0;j<dataColumnValue[i].length;j++){
					trainingMicroArrayData[j][i/2] = (double)dataColumnValue[i][j];			
				}
			}
			else{//to test
				for(int j=0;j<dataColumnValue[i].length;j++){
					testMicroArrayData[j][i/2] = (double)dataColumnValue[i][j];	
					}
			}
			
		}
		//termNodes.getLength() is odd
		int [] trainingType = new int[trainingLength];
		int [] testType =new int[testLength];
		String type0 = termNodes.item(0).getTextContent();
		for (int i=0;i<termNodes.getLength();i++){
			Node n = termNodes.item(i);
			String ntype = n.getTextContent();
			int itype = ntype.equals(type0)?0:1;
			if(i%2==0){
				trainingType[i/2]= itype;
			}
			else {
				testType[i/2] = itype; 
				
			}
		}

		
	    byte [] trainingMicroArrayByte = doubleArrayToBytes(trainingMicroArrayData);
	    byte [] testMicroArrayByte = doubleArrayToBytes(testMicroArrayData);
	    sun.misc.BASE64Encoder base64Encoder = new sun.misc.BASE64Encoder();
	    String trainingMicroArrayBase64String = base64Encoder.encode(trainingMicroArrayByte);
	    String testMicroArrayBase64String = base64Encoder.encode(testMicroArrayByte);
	    //System.out.println(microArrayBase64String);
	    
	    //construct classmembership elements
	    //training
	    StringBuffer trainingClassMembershipXMLString = new StringBuffer ("<ns1:ClassMembership xmlns:ns1=\"gme://GenePattern.caBIG/1/gridExtensions\">");
	    trainingClassMembershipXMLString.append("<classNames xmlns=\"\">DLBCL</classNames><classNames xmlns=\"\">FL</classNames>");
	    trainingClassMembershipXMLString.append("<numSamples xmlns=\"\">"+trainingType.length+"</numSamples>");
	    for(int i=0;i<trainingType.length;i++){
	    	trainingClassMembershipXMLString.append("<sampleClasses xmlns=\"\">"+trainingType[i]+"</sampleClasses>");
	    }
	    for(int i=0;i<trainingType.length;i++){
	    	trainingClassMembershipXMLString.append("<sampleNames xmlns=\"\">trainingSample_"+i+"</sampleNames>");
	    }
	    trainingClassMembershipXMLString.append("</ns1:ClassMembership>");
	    //System.out.println(trainingClassMembershipXMLString);
	    //test
	    StringBuffer testClassMembershipXMLString = new StringBuffer ("<ns1:ClassMembership xmlns:ns1=\"gme://GenePattern.caBIG/1/gridExtensions\">");
	    testClassMembershipXMLString.append("<classNames xmlns=\"\">DLBCL</classNames><classNames xmlns=\"\">FL</classNames>");
	    testClassMembershipXMLString.append("<numSamples xmlns=\"\">"+testType.length+"</numSamples>");
	    for(int i=0;i<testType.length;i++){
	    	testClassMembershipXMLString.append("<sampleClasses xmlns=\"\">"+testType[i]+"</sampleClasses>");
	    }
	    for(int i=0;i<testType.length;i++){
	    	testClassMembershipXMLString.append("<sampleNames xmlns=\"\">testSample_"+i+"</sampleNames>");
	    }
	    testClassMembershipXMLString.append("</ns1:ClassMembership>");
	    //System.out.println(testClassMembershipXMLString);
	    
	     //construct Data elements
	    //training data-----------------------------------------------------------------
	    StringBuffer trainingDataXMLString = new StringBuffer ("<ns3:Data xmlns:ns3=\"gme://RProteomics.caBIG/2.0/edu.duke.cabig.rproteomics.model.statml\"" +
	    		" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">");
	   //<data> contains four <list>:
	    // 1 add the base64value
	    trainingDataXMLString.append("<ns3:list><ns3:name>data</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/><ns3:array><ns3:dimensions>"
	    		+trainingMicroArrayData.length+","+trainingMicroArrayData[0].length+
	    		"</ns3:dimensions><ns3:name>data</ns3:name><ns3:type>double</ns3:type><ns3:base64Value>"+
	    		trainingMicroArrayBase64String+ "</ns3:base64Value></ns3:array></ns3:list>");
	    //2 add markerNames
	    trainingDataXMLString.append("<ns3:list><ns3:name>markerNames</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/>");
	    for(int i=0;i<trainingMicroArrayData.length;i++){
	    	trainingDataXMLString.append("<ns3:scalar><ns3:name>markerNames</ns3:name><ns3:type>string</ns3:type><ns3:value>Gene_"+i+"</ns3:value></ns3:scalar>");
	    	
	    }
	    trainingDataXMLString.append("</ns3:list>");
	      //3 add markerDescriptions
	    trainingDataXMLString.append("<ns3:list><ns3:name>markerDescriptions</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/>");
	    for(int i=0;i<trainingMicroArrayData.length;i++){
	    	trainingDataXMLString.append("<ns3:scalar><ns3:name>markerDescriptions</ns3:name><ns3:type>string</ns3:type><ns3:value>Gene_"+i+"</ns3:value></ns3:scalar>");    	
	    }
	    trainingDataXMLString.append("</ns3:list>");
	    
	    
	    //4 add sampleNames
	    trainingDataXMLString.append("<ns3:list><ns3:name>sampleNames</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/>");
	    for(int i=0;i<trainingMicroArrayData[0].length;i++){
	    	trainingDataXMLString.append("<ns3:scalar><ns3:name>sampleNames</ns3:name><ns3:type>string</ns3:type><ns3:value>trainingSample_"+i+"</ns3:value></ns3:scalar>");    	
	    }
	    trainingDataXMLString.append("</ns3:list>");	    
	    trainingDataXMLString.append("</ns3:Data>");
	   
	    //test data-----------------------------------------------------------------	 
	    StringBuffer testDataXMLString = new StringBuffer ("<ns3:Data xmlns:ns3=\"gme://RProteomics.caBIG/2.0/edu.duke.cabig.rproteomics.model.statml\"" +
		" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">");
	    //<data> contains four <list>:
	    // 1 add the base64value
	    testDataXMLString.append("<ns3:list><ns3:name>data</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/><ns3:array><ns3:dimensions>"
		+testMicroArrayData.length+","+testMicroArrayData[0].length+
		"</ns3:dimensions><ns3:name>data</ns3:name><ns3:type>double</ns3:type><ns3:base64Value>"+
		testMicroArrayBase64String+ "</ns3:base64Value></ns3:array></ns3:list>");
	    
	    //2 add markerNames
	    testDataXMLString.append("<ns3:list><ns3:name>markerNames</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/>");
	    for(int i=0;i<testMicroArrayData.length;i++){
	    	testDataXMLString.append("<ns3:scalar><ns3:name>markerNames</ns3:name><ns3:type>string</ns3:type><ns3:value>Gene_"+i+"</ns3:value></ns3:scalar>");
	    	}
	    testDataXMLString.append("</ns3:list>");
	    //3 add markerDescriptions
	    testDataXMLString.append("<ns3:list><ns3:name>markerDescriptions</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/>");
	    for(int i=0;i<testMicroArrayData.length;i++){
	    	testDataXMLString.append("<ns3:scalar><ns3:name>markerDescriptions</ns3:name><ns3:type>string</ns3:type><ns3:value>Gene_");
	    	testDataXMLString.append(i);
	    	testDataXMLString.append("</ns3:value></ns3:scalar>");    	
	    }
	    testDataXMLString.append("</ns3:list>");
	    //4 add sampleNames
	    testDataXMLString.append("<ns3:list><ns3:name>sampleNames</ns3:name><ns3:type xsi:nil=\"true\"/><ns3:length xsi:nil=\"true\"/>");
	    for(int i=0;i<testMicroArrayData[0].length;i++){
	    	testDataXMLString.append("<ns3:scalar><ns3:name>sampleNames</ns3:name><ns3:type>string</ns3:type><ns3:value>testSample_"+i+"</ns3:value></ns3:scalar>");    	
	    }
	    testDataXMLString.append("</ns3:list>");	    
	    testDataXMLString.append("</ns3:Data>");
	    //System.out.println(testDataXMLString);
		trainingClass = trainingClassMembershipXMLString.toString();
		testClass = testClassMembershipXMLString.toString();
   		trainingDataString = trainingDataXMLString.toString();
		testDataString = testDataXMLString.toString();
		
	} catch (IOException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	} catch (XPathExpressionException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	} catch (SAXException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	} catch (ParserConfigurationException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
				
			///////////////////////////////////////////////////	</pre></div>                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Beanshells -->
        <div class="fold">
      <div class="foldTitle">
        Beanshells (3)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Inputs</th>
              <th>Outputs</th>
            </tr>
          
                          <tr>
                <td><b>Beanshell</b></td>
                <td></td>
                <td>
                  
                    
                      expid                      
                    
                  
                </td>
                <td>
                  
                    
                      searchHyb                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>Beanshell2</b></td>
                <td></td>
                <td>
                  
                    
                      i                      
                    
                  
                </td>
                <td>
                  
                    
                      result                      <hr />
                    
                      o                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>Beanshell3</b></td>
                <td></td>
                <td>
                  
                    
                      i                      
                    
                  
                </td>
                <td>
                  
                    
                      testClass                      <hr />
                    
                      trainingClass                      <hr />
                    
                      testDataString                      <hr />
                    
                      trainingDataString                      
                    
                  
                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Sinks -->
        <div class="fold">
      <div class="foldTitle">
        Outputs (4)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
          
                          <tr>
                <td><b>testClass</b></td>
                <td>
                  
                </td>
              </tr>
                          <tr>
                <td><b>trainingClass</b></td>
                <td>
                  
                </td>
              </tr>
                          <tr>
                <td><b>trainingData</b></td>
                <td>
                  
                </td>
              </tr>
                          <tr>
                <td><b>testData</b></td>
                <td>
                  
                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Datalinks -->
        <div class="fold">
      <div class="foldTitle">
        Datalinks (10)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Source</th>
              <th>Sink</th>
            </tr>
          
                          <tr>
                <td>Beanshell:searchHyb</td>
                <td>searchForHybridizations:parameters</td>
              </tr>
                          <tr>
                <td>EXP_ID</td>
                <td>Beanshell:expid</td>
              </tr>
                          <tr>
                <td>searchForHybridizations:parameters</td>
                <td>Beanshell2:i</td>
              </tr>
                          <tr>
                <td>getDataSet_input:output</td>
                <td>getDataSet:parameters</td>
              </tr>
                          <tr>
                <td>Beanshell2:o</td>
                <td>getDataSet_input:dataSetRequest</td>
              </tr>
                          <tr>
                <td>getDataSet:parameters</td>
                <td>Beanshell3:i</td>
              </tr>
                          <tr>
                <td>Beanshell3:testClass</td>
                <td>testClass</td>
              </tr>
                          <tr>
                <td>Beanshell3:trainingClass</td>
                <td>trainingClass</td>
              </tr>
                          <tr>
                <td>Beanshell3:trainingDataString</td>
                <td>trainingData</td>
              </tr>
                          <tr>
                <td>Beanshell3:testDataString</td>
                <td>testData</td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Coordinations -->
        <div class="fold">
      <div class="foldTitle">
        Coordinations (0)
      </div>
      <div class="foldContent" style="display: none;">
        
          <p class="none_text">None</p>
        
      </div>
    </div>
  
    

          
      
    </div>

  </div>

</div>

<div class="contribution_right_box">
  <div class="contribution_section_box" style= "font-size: 100%; padding: 0.7em 0.9em; font-weight: bold;">
    <p><img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The type of workflow system that this Workflow is designed for.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" /> Workflow Type</p>
    <p><a href="/content_types/2">Taverna 2</a></p>
  </div>

  <div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The Uploader is the person who uploaded/created this Workflow on myExperiment, and who manages it on myExperiment.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Uploader
	</p>
	<p>
		<center>
			<div class="avatar" style="width: 66px">
  <a href="/users/1019"><img alt="510?size=60x60" class="framed" src="/pictures/show/510?size=60x60" title="Wei Tan" /></a>
  
	<span style="display:block;margin-top:2px;text-align:center;">
		
			<img alt="Us" src="/images/famfamfam_flags/us.png?1680607579" style="vertical-align:middle; margin-right: 0.3em;" title="header=[] body=[&lt;b&gt;Location: &lt;/b&gt;Hawthorne, United States] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		

    
			<a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a>
		

    
	</span>
  
</div>

		</center>
	</p>
</div>


  

  

<div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This specifies what rights users have when they download and use this Workflow.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		License
		<a name="license"></a>
	</p>

  

    
    
    
    
    


    

    <!--

    <rdf:RDF xmlns="http://creativecommons.org/ns#"
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
    <Work rdf:about="">
       <dc:title>caArray data retrieving</dc:title>
       <dc:date>2009-11-23 18:09:47 UTC</dc:date>
       <dc:description>&lt;p&gt;
Query all the gene expression data in a caArray experiment. Returns a evenly divided gene expression data set with corresponding class information. They ca be later used as training and test data set in many classification algorithms.&lt;hr /&gt;Query all the gene expression data in a caArray experiment. Returns a evenly divided gene expression data set with corresponding class information. They can be later used as training and test data set in many classification algorithms.
&lt;/p&gt;

</dc:description>
       <dc:creator><Agent>
          <dc:title><a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a></dc:title>
       </Agent></dc:creator>
       <dc:rights><Agent>
          <dc:title><a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a></dc:title>
       </Agent></dc:rights>
       <dc:type rdf:resource="http://purl.org/dc/dcmitype/Data" />
       <dc:source rdf:resource="http://www.myexperiment.org/workflows/963.html"/>
       <license rdf:resource="http://creativecommons.org/licenses/by-sa/3.0/" />
    </Work>

    <License rdf:about="http://creativecommons.org/licenses/by-sa/3.0/">
      <permits rdf:resource="http://creativecommons.org/ns#Reproduction" />  <permits rdf:resource="http://creativecommons.org/ns#Distribution" />  <requires rdf:resource="http://creativecommons.org/ns#Notice" />  <requires rdf:resource="http://creativecommons.org/ns#Attribution" />  <permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks" />  <requires rdf:resource="http://creativecommons.org/ns#ShareAlike" />
    </License>

    </rdf:RDF>

    -->

  

  <div class="contribution_currentlicense">
    <p>
      
        All versions of this Workflow are
      
      
        licensed under: <br/><br/><a rel="Copyright" href="/licenses/2" title="Creative Commons Attribution-Share Alike 3.0 Unported License"><img src="/images/by-sa.png" /></a>
      
    </p>
  </div>
	
</div>


  <script type="text/javascript">
    function showVersion(form) {
        var url = $("resource_versions").value;
        location.href = url;
        form.submit
    }
</script>
<style>
  .version_selection {
      font-size:smaller;
      text-align: center;
  }
</style>

<div class="contribution_section_box">
  <p class="heading">
    <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This box shows version 1 for this entry] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />    <span>Version 1 </span>
    <span class="count_text">(of 1)</span>
  </p>
  
</div>

  <div class="contribution_section_box">
	
	<p class="heading" style="margin-bottom: 0; padding-bottom: 0;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[Which people/groups get the credit for this Workflow?] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Credits <span class="count_text">(1)</span>
		<a name="credits"></a>
	</p>
	<span style="font-size: 85%; color: #666666; display: block; padding: 0.3em 0.5em 0 0.5em; margin: 0; line-height: 1em;">(People/Groups)</span>
	
		<div style="font-size: 85%;">
			<ul class="items">
				
					<li>
						
							
								<span class="icon"><img alt="User" src="/images/famfamfam_silk/user.png?1680607579" /> </span> 
							
							<a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a>
						
					</li>
				
			</ul>
		</div>
	
	
	
	<p class="heading" style="margin-bottom: 0; padding-bottom: 0;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[What other Workflows/Files is this one based on?] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Attributions <span class="count_text">(0)</span>
		<a name="attributions"></a>
	</p>
	<span style="font-size: 85%; color: #666666; display: block; padding: 0.3em 0.5em 0 0.5em; margin: 0; line-height: 1em;">(Workflows/Files)</span>
	
		<p class="none_text">None</p>
	
	
	
	
</div>


  


  <div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The tags for this Workflow entry.&lt;br/&gt;Note(1): if this Workflow has many versions, the tags apply to ALL versions in this entry.&lt;br/&gt;Note(2): the size of the tags show how popular they are on myExperiment.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Tags <span id="tags_box_header_tag_count_span" class="count_text">(8)</span>
		<a name="tags"></a>
	</p>

	<script type="text/javascript">
  function showAllTags() {
    Element.show('all_tags');
	  Element.hide('user_tags');
	  return false;
  }
  
  function showUsersTags() {
  	Element.hide('all_tags');
	  Element.show('user_tags');
	  return false;
  }
	
	function flip_tags_mode()
	{
		if( $('toggle_tags_mode').checked )
		  showUsersTags();
	  else
		  showAllTags();
	}
</script>

<div id="tags_inner_box">
	
		<div class="box_currentuser_specific" style="padding: 0.3em 0.2em; margin: 0.6em 0.4em;">
		  <label for="toggle_tags_mode" style="font-size: 85%; font-weight: bold;"><input id="toggle_tags_mode" name="toggle_tags_mode" onclick="flip_tags_mode();" style="margin-right: 0.3em;" type="checkbox" value="1" />Uploader tags</label>
		</div>
		<div id="all_tags">
			
				<div class="hTagcloud">
  <ul class="popularity">
    <li><a href='/tags/1694' class='popular'>caarray</a></li>
<li> | </li>
    <li><a href='/tags/1068' class='v-popular'>cabig</a></li>
<li> | </li>
    <li><a href='/tags/1069' class='v-popular'>cagrid</a></li>
<li> | </li>
    <li><a href='/tags/1695' class='popular'>functional workflow</a></li>
<li> | </li>
    <li><a href='/tags/178' class='vvvv-popular'>gene</a></li>
<li> | </li>
    <li><a href='/tags/1076' class='popular'>globus</a></li>
<li> | </li>
    <li><a href='/tags/1075' class='popular'>grid service</a></li>
<li> | </li>
    <li><a href='/tags/305' class='vv-popular'>microarray</a></li>
  </ul>
</div>

			
		</div>
		<div id="user_tags"  style="display: none;">
			
				<div class="hTagcloud">
  <ul class="popularity">
    <li><a href='/tags/1694' class='popular'>caarray</a></li>
<li> | </li>
    <li><a href='/tags/1068' class='v-popular'>cabig</a></li>
<li> | </li>
    <li><a href='/tags/1069' class='v-popular'>cagrid</a></li>
<li> | </li>
    <li><a href='/tags/1695' class='popular'>functional workflow</a></li>
<li> | </li>
    <li><a href='/tags/178' class='vvvv-popular'>gene</a></li>
<li> | </li>
    <li><a href='/tags/1076' class='popular'>globus</a></li>
<li> | </li>
    <li><a href='/tags/1075' class='popular'>grid service</a></li>
<li> | </li>
    <li><a href='/tags/305' class='vv-popular'>microarray</a></li>
  </ul>
</div>

			
		</div>
	
</div>
	
	
	
	
		<p><small><b><a href="/session/new">Log in</a></b> to add Tags</small></p>
	
</div>


  
<div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[All the Groups that this item has been shared with] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Shared with Groups <span class="count_text">(0)</span>
	</p>
	
		<p class="none_text">None</p>
	
</div>

  <div class="contribution_section_box" id="in_packs_box">
  
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[All the Packs that this item (or versions of this item [[if available]]) is referred to in] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Featured In Packs  <span class="count_text">(0)</span>
		<a name="featured_in_packs"></a>
	</p>
	
		<p class="none_text">None</p>
	
	
	
		<p><small><b><a href="/session/new">Log in</a></b> to add to one of your Packs</small></p>
	
</div>


  <div class="contribution_section_box">
	
	<p class="heading" style="margin-bottom: 0; padding-bottom: 0;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[Shows files and workflows that have attributed this Workflow.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Attributed By <span class="count_text">(0)</span>
	  <a name="attributed_by"></a>
	</p>
	<span style="font-size: 85%; color: #666666; display: block; padding: 0.3em 0.5em 0 0.5em; margin: 0; line-height: 1em;">(Workflows/Files)</span>
	
		
		<p class="none_text">None</p>
	
	
</div>


  
<div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The users who have added this Workflow to their favourites] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Favourited By <font class="count_text">(0)</font>
		<a name="favourited_by"></a>
	</p>
	
	
		<p class="none_text">No one</p>
	
	
	
</div>

  

<div class="contribution_section_box">
	<p class="heading" style="margin-bottom: 0.3em;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[Viewing / download counts are grand totals for this Workflow.&lt;br/&gt;Click &#39;see breakdown&#39; to view details.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Statistics
	</p>
	
	<div class="stats_box"> 
		<p style="font-size: 85%;">
  2149 viewings
</p>

	<p style="font-size: 85%;">
	  1664 downloads
	</p>

<p style="margin-top: 0.2em;">
	<small>[ <a href="/workflows/963/statistics">see breakdown</a> ]</small>
</p>
		
		<div class="fold" style="padding-top: 0.6em;">
			<div class="foldTitle">More</div>
			<div class="foldContent" style="display: none; text-align: left;">
				
					<p>
						<a href="#credits">1 credit</a> <!-- won't work for type=='group'; needs anchor called '#group_creditations' -->
					</p>
					
					<p>
						<a href="#attributions">0 attributions</a>
					</p>
				
				
				
					<p>
			      <a href="#tags">8 tags</a>
			    </p>
				
				
				
					<p>
			      <a href="#favourited_by">0 favourites</a>
			    </p>
				

				
					<p>
						<a href="#citations">0 citations</a>
			    </p>
				
				
				
					<p>
			      <a href="#reviews">0 reviews</a>
			    </p>
				
				
				
			    <p>
			    	<a href="#comments">1 comment</a>
			    </p>
				
			</div>
		</div>
		
		
		
		
	</div>
</div>

</div>

<div class="clearer">&nbsp;</div>

<!-- BEGIN tabs -->

<br/>

<div id="tabsContainer" class="tabsContainer"></div>

<div class="tabContainer">
  <div class="tabTitle">Citations (0)</div>
  <div class="tabContent">

    <a name="citations"></a>
    
      <p><i>None</i></p>
    
		
		<br/>

    

  </div>
</div>


<div class="tabContainer">
  <div class="tabTitle">Version History</div>
  <div class="tabContent">
    <a name="version_history"></a>
    <p>In chronological order:</p>

<ol class="version_history">
  
    <li>
      <div class="title">
        <a href="/workflows/963/versions/1">caArray data retrieving</a>
      </div>
      <div class="metadata">

        <p>
          Created
          
            by <a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a>
          
          on Monday 23 November 2009 18:09:48 (UTC)
        </p>

        

        
      </div>
    </li>
  
</ol>


  </div>
</div>



<!-- END tabs -->

<br/>
<br/>

<div id="ratingsBox">
  <h2>
	<span class="icon"><img alt="Reviews" src="/images/famfamfam_silk/report.png?1680607579" /> </span>	<span style="vertical-align: middle;"><a href="/workflows/963/reviews">Reviews</a></span>
	<span class="count_text" style="vertical-align: middle;">(0)</span>
</h2>

<div class="reviewsBox">

	
		<p><i>No reviews yet</i></p>
		<a name="reviews"></a>
		<p style="margin-top: 0.6em;">
			<strong><a href="/workflows/963/reviews/new">Be the first to review!</a></strong>
		</p>
	
	
</div>

</div>

<br/>
<br/>

<div id="commentsBox">
  <script src="/javascripts/ckeditor/ckeditor.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/widgets/tooltip.js?1680607579" type="text/javascript"></script>

<h2>
	<span class="icon"><img alt="Comments" src="/images/famfamfam_silk/comments.png?1680607579" /> </span>	<span style="vertical-align: middle;">Comments</span>
	<span class="count_text" style="vertical-align: middle;">(1)</span>
</h2>

<ul class="sectionIcons">
  <li><span class="icon"><a href="http://www.myexperiment.org/workflows/963/comments/timeline"><img alt="Timeline" src="/images/famfamfam_silk/timeline_marker.png?1680607579" /> View Timeline</a></span></li>
</ul>

<div class="commentsBox">
	
	
		
			<p><strong><a href="/session/new">Log in</a> to make a comment </strong></p>
		
		<a name="comments"></a>
		<ul id="comments" class="comments">
			<li>
	<a name='comment_388'></a>
  <table class="comment">
    <tr>
      <td class="avatar" rowspan="3">
        <div class="avatar" style="width: 66px">
  <a href="/users/10629"><img alt="Avatar" class="framed" height="60" src="/images/avatar.png?1680607579" title="Jiazhangchicago" width="60" /></a>
  
	<span style="display:block;margin-top:2px;text-align:center;">
		
			
		

    
		  <a href="/users/10629" title="header=[] body=[Jiazhangchicago] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Jiazhan...</a>
		

    
	</span>
  
</div>

      </td>
      <td class="header" height="1.2em">
	      Thursday 19 August 2010 16:16:16 (UTC)
	  </td>
    </tr>
	<tr>
	  <td class="content">        
    	This is my comment.
	  </td>
	</tr>
	<tr>
		<td style="text-align: right; padding-right: 1em;">
      
      
		</td>
	</tr>
  </table>
</li>

		</ul>
	
	
	<br/>
	
	

</div>


</div>

<!-- Other workflows that use a service this workflow users -->

<br />
<br />

<h2>
  <span class="icon"><img alt="Workflow" src="/images/redmond_studio/applications_16.png?1680607579" /> </span>  <span style="vertical-align: middle;">Other workflows that use similar services</span>
  <span class="count_text" style="vertical-align: middle;">(1)</span>
</h2>




    






	

            
    <div class="resource_list_item ">

      <div class="avatar_panel">
        <div class="workflow_type_box">
          <a href="/content_types/2">Taverna 2</a>
        </div>
        <span class="owner">Uploader</span>
        <div class="avatar" style="width: 66px">
  <a href="/users/1019"><img alt="510?size=60x60" class="framed" src="/pictures/show/510?size=60x60" title="Wei Tan" /></a>
  
	<span style="display:block;margin-top:2px;text-align:center;">
		
			<img alt="Us" src="/images/famfamfam_flags/us.png?1680607579" style="vertical-align:middle; margin-right: 0.3em;" title="header=[] body=[&lt;b&gt;Location: &lt;/b&gt;Hawthorne, United States] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		

    
			<a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a>
		

    
	</span>
  
</div>

        
      </div>

      <div class="main_panel">

                  <a name="_Lymphoma_type_prediction_based_on_microarray_data_"></a>

          <p class="title inline">
            <span class="icon"><img alt="Workflow" src="/images/redmond_studio/applications_16.png?1680607579" /> </span>
            
            <a href="/workflows/746" title=" Lymphoma type prediction based on microarray data "> Lymphoma type prediction based on microar...</a>
            <span style="font-weight:normal;">
              (7)
      </span>
      <ul class="inline sectionIcons">
	      		      <li><span class="icon"><a href="/workflows/746/download"><img alt="Download" src="/images/redmond_studio/arrow-down_16.png?1680607579" /> Download</a></span></li>
                
	      
              
	      </ul>
          </p>
          <div class="desc">
                          <div class="preview">
                <a href="/workflows/746"><img alt="Thumb" src="/workflows/746/previews/thumb" /></a>
              </div>
                                                    Scientific value Using gene-expression patterns associated with DLBCL and FL to predict the lymphoma type of an unknown sample. Using SVM (Support Vector Machine) to classify data, and predicting the tumor types of unknown examples. Steps Querying training data from experiments stored in caArray. Preprocessing, or normalize the microarray data. Adding training and testing data into SVM service to get classification result.
                      </div>


          <p>
            <b>Created:</b> 2010-05-11            
              |	<b>Last updated:</b> 2010-05-11            
          </p>

          
            <p>
              <b>Credits:</b>
              
                
                  <span class="icon"><img alt="User" src="/images/famfamfam_silk/user.png?1680607579" /> </span>
                
                <a href="/users/1019" title="header=[] body=[Wei Tan] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Wei Tan</a>
              
                
                  <span class="icon"><img alt="User" src="/images/famfamfam_silk/user.png?1680607579" /> </span>
                
                <a href="/users/298" title="header=[] body=[Ravi] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Ravi</a>
              
                
                  <span class="icon"><img alt="User" src="/images/famfamfam_silk/user.png?1680607579" /> </span>
                
                <a href="/users/5" title="header=[] body=[Stian Soiland-Reyes] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Stian Soiland-Reyes</a>
              
            </p>
          

          

              </div>
    </div>
  








<!-- OpenURL context object -->

<span class="Z3988" title="url_ver=Z39.88-2004&amp;url_ctx_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Actx&amp;ctx_ver=Z39.88-2004&amp;ctx_tim=2023-08-16T03%3A39%3A47%2B00%3A00&amp;ctx_id=&amp;ctx_enc=info%3Aofi%2Fenc%3AUTF-8&amp;rft.title=caArray+data+retrieving&amp;rft.date=2009-11-23&amp;rft.au=Wei+Tan&amp;rft.genre=unknown&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc"></span>
      </div>
    </div>




            <div id="ft">
          <div class="container">
  <div class="row">
    <div class="col-md-4 text-left">
      Funded by:
      <a href="http://biovel.eu">BioVeL</a>,
      <a href="http://www.epsrc.ac.uk/">EPSRC</a>,
      <a href="http://jisc.ac.uk/">JISC</a>,
      <a href="http://www.microsoft.com">Microsoft</a>

      <br/><br/>

      Affiliates:
      <a href="http://www.mygrid.org.uk">myGrid</a>,
      <a href="http://www.taverna.org.uk/">Taverna</a>,
      <a href="http://www.biocatalogue.org">BioCatalogue</a>
    </div>

    <div class="col-md-4 text-center">
      <a href="/about">About</a> |
      <a href="/privacy">Privacy</a> |
      <a href="http://wiki.myexperiment.org/index.php/Papers">Publications</a> |
      <a href="/feedback">Contact / Feedback</a> |
      <a href="http://lists.nongnu.org/mailman/listinfo/myexperiment-discuss">Mailing List</a>
    </div>

    <div class="col-md-4 text-right">
      Icons: <a href="http://www.famfamfam.com/lab/icons/silk/">Silk icon set 1.3</a><br/><br/>
      
    </div>

  </div>
  <div class="row">
    <div class="col-md-12 text-center">
      Copyright &#169; 2007 &ndash; 2018
      <a href="http://www.manchester.ac.uk/">The University of Manchester</a>
      and
      <a href="http://www.soton.ac.uk/">University of Southampton</a>
    </div>
  </div>
</div>

        </div>
    



<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1498417-4', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
</script>




</body>
</html>

