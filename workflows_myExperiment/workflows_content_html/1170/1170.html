<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="google-site-verification" content="3hq0Cfhw5_-EaaNMum0ETX847sTl7jeQ3ZNAla4a6UQ" />
  
  <title>myExperiment &#45; Workflows &#45; BlastandParse2 (Andrew David King) [Taverna 2 Workflow]</title>
  <link rel="alternate" href="http://www.myexperiment.org/workflows/1170.rdf" type="application/rdf+xml" title="RDF+XML" />
  <link rel="alternate" href="http://www.myexperiment.org/workflows/1170.xml" type="application/xml" title="REST XML" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
  <link href="/stylesheets/acts_as_taggable_stylesheet.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/star_rating.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/gadgets.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/misc_skinning.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/pagination.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/bootstrap.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/navbar.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/styles.css?1680607579" media="screen" rel="stylesheet" type="text/css" />
  <script src="/javascripts/jquery-1.11.1.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/jquery-noconflict.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/prototype-1.7.2-patched.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/effects.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/controls.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/boxover.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/bootstrap.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/tabs.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/folds.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/application.js?1680607579" type="text/javascript"></script>

  
  






  
  
    <script src='//www.google.com/recaptcha/api.js'></script>
  
</head>
<body>



<div class="navbar navbar-myexp" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
          <a id="logo" href="/">
            <img alt="Logo" class="hidden-sm" src="/images/logo.png?1680607579" />
            <img alt="Logo_cropped" class="visible-sm" src="/images/logo_cropped.png?1680607579" />
          </a>
      
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        
          <ul class="nav navbar-nav">
  
    <li >
      <a href="/home">Home</a>    </li>
  
    <li >
      <a href="/users">Users</a>    </li>
  
    <li >
      <a href="/groups">Groups</a>    </li>
  
    <li class="active">
      <a href="/workflows">Workflows</a>    </li>
  
    <li >
      <a href="/files">Files</a>    </li>
  
    <li >
      <a href="/packs">Packs</a>    </li>
  
</ul>

        
        
            <form action="/search" class="navbar-form navbar-left" id="search" method="get">
    <div class="input-group">
      <input class="form-control" id="query" name="query" placeholder="Search" type="text" />
      <span class="input-group-btn">
        
        <input class="btn btn-default" name="commit" type="submit" value="Go" />
        </span>
    </div>
</form>

        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
            <li><a href="/session/new?return_to=%2Fworkflows%2F1170.html">Log in</a></li>
    <li><a href="/users/new">Register</a></li>


      </ul>
    </div><!--/.nav-collapse -->
  </div>
  
</div>




    <div class="container" id="main">
      <div id="myexp_breadcrumbs_bar">
        <ol class="breadcrumb">
  <li><a href="/home">Home</a></li>
  


  <li><a href="/workflows">Workflows</a></li>



  
    <li>BlastandParse2</li>
  


  <div style="float: right"></div>
</ol>

      </div>
      <div id="myexp_content">
        


        



<h1 class="contribution_title">
  BlastandParse2
</h1>

<div class="contribution_aftertitle">
	<b>Created:</b> 2010-03-19 12:20:29
	
</div>
<ul class="sectionIcons">
  
      <li><span class="icon"><a href="http://www.myexperiment.org/workflows/1170/download/BlastandParse2-v1.t2flow?version=1"><img alt="Download Workflow (for version 1)" src="/images/redmond_studio/arrow-down_16.png?1680607579" /> Download Workflow</a></span></li>
      
  
      
</ul>


<div class="contribution_left_box">

  <div class="contribution_version_box">



    <div class="contribution_version_inner_box">

      
    <div class="contribution_description">
      <p>
This workflow allows you to configure a BioMart query to fetch sequences you want from Ensembl. These sequences are retrieved and a blast database of them is created (by default, in the directory you ran taverna from). 
</p>

<p>
Warning: This workflow assumes that you have blastall and formatdb installed on the machine, and that by default, these are both found or linked in /usr/local/bin. It also assumes that you have write permission to the directory you have run taverna from. The beanshells "create_blastall_cmdArgs" and "create_formatdb_cmdArgs" are what you need to edit if the default locations are not appropriate for you.
</p>

<p>
Shortcomings:
</p>

<p>
The names of all the files created and used is hard coded in this workflow. This means that if you run this workflow more than once without editing anything, you will overwrite files you have previously created.
</p>

<p>
The results of the blastall are parsed to give those that are above the max e-value and minimum percent identity as indicated by the user and an output of uniprot accession numbers is created that can be searched against KEGG.
</p>


    </div>


      <h3>
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This section shows the preview of this version of the Workflow (click on the image to expand)] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Preview
      </h3>

      

          <div class="contribution_preview" style="width: 100%;">
            <p style="text-align: center">
              <a href="/workflows/1170/versions/1/previews/full" onclick="window.open(this.href);return false;"><img alt="Medium" src="/workflows/1170/versions/1/previews/medium" /></a>
            </p>
            
                <p style="text-align: right; color: #666666;">
                  <a href="/workflows/1170/versions/1/previews/svg">Download as scalable diagram (SVG)</a>
                </p>
            

            
          </div>
      



      <h3>
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This section provides options for running this version of the Workflow] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Run
      </h3>

      
          
              <div style="margin: 0 0.5em;">
	<h4>
		Run this Workflow in the Taverna Workbench...
	</h4>
	
	<div class="option_box">
		
		<p style="text-align: center;">
			<b>Option 1:</b>
		</p>
		
		<p style="font-size: 93%; text-align: center;">
			Copy and paste this link into File > 'Open workflow location...'<br/>
			<a href="http://www.myexperiment.org/workflows/1170/download?version=1">http://www.myexperiment.org/workflows/1170/download?version=1</a><br/>
			<small>[ <a href="#" onclick="Effect.toggle(&quot;run_taverna_more_box&quot;,'blind',{duration:0.3});; return false;">More Info<img alt="Expand" src="/images/folds/unfold.png?1680607579" style="margin-left: 0.3em; vertical-align: middle;" /></a> ]</small>
		</p>
		
		<div id="run_taverna_more_box" style="display: none;">
			<p style="font-size: 85%; margin-top: 0.5em; text-align: center;">
				Taverna is available from <a href="http://taverna.sourceforge.net/" onclick="window.open(this.href);return false;">http://taverna.sourceforge.net/</a>
			</p>
			
			<p style="text-align: center; margin-top: 0.5em; font-size: 85%;">
				If you are having problems downloading it in Taverna, you may need to provide your username and password in the URL so that Taverna can access the Workflow: <br/>
				
					<b>Replace <font color="#990000">http://</font> in the link above with <font color="#990000">http://yourusername:yourpassword@</font></b>
				
			</p>
		</div>
	
	</div>
</div>


          
      

      <br/>

      <h3>
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This section shows the internal components of this workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Workflow Components
      </h3>

      
          
              
	    <!-- Authors -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This is the author information extracted from the workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Authors (2)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
                          <tr>
                <td>Baywatch Solutions</td>
              </tr>
                          <tr>
                <td>Bela Tiwari</td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Titles -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[These are the descriptive titles embedded within the workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Titles (2)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
                          <tr>
                <td>BlastandParse2</td>
              </tr>
                          <tr>
                <td>fetchEnsemblSeqsAndBlast</td>
              </tr>
            
          </table>
        
      </div>
    </div>

    <!-- Descriptions -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[These are the descriptions embedded within the workflow version] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Descriptions (2)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
                          <tr>
                <td>This workflow allows you to configure a BioMart query to fetch sequences you want from Ensembl. These sequences are retrieved and a blast database of them is created (by default, in the directory you ran taverna from). Warning: This workflow assumes that you have blastall and formatdb installed on the machine, and that by default, these are both found or linked in /usr/local/bin. It also assumes that you have write permission to the directory you have run taverna from. The beanshells &quot;create_blastall_cmdArgs&quot; and &quot;create_formatdb_cmdArgs&quot; are what you need to edit if the default locations are not appropriate for you.Shortcomings:The names of all the files created and used is hard coded in this workflow. This means that if you run this workflow more than once without editing anything, you will overwrite files you have previously created.The results of the blastall are parsed to give those that are above the max e-value and minimum percent identity as indicated by the user and an output of uniprot accession numbers is created that can be searched against KEGG.</td>
              </tr>
                          <tr>
                <td>This workflow allows you to configure a BioMart query to fetch sequences you want from Ensembl. These sequences are retrieved and a blast database of them is created (by default, in the directory you ran taverna from). Warning: This workflow assumes that you have blastall and formatdb installed on the machine, and that by default, these are both found or linked in /usr/local/bin. It also assumes that you have write permission to the directory you have run taverna from. The beanshells &quot;create_blastall_cmdArgs&quot; and &quot;create_formatdb_cmdArgs&quot; are what you need to edit if the default locations are not appropriate for you.Shortcomings:The names of all the files created and used is hard coded in this workflow. This means that if you run this workflow more than once without editing anything, you will overwrite files you have previously created.All files created in the working directory are not yet coded to be deleted via the workflow. Ideally there would be an option that a user could choose that would set the files to be kept or deleted after use.</td>
              </tr>
            
          </table>
        
      </div>
    </div>
        
    <!-- Dependencies -->
        <div class="fold">
      <div class="foldTitle">
        <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[These are the listed dependencies of the workflow] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
        Dependencies (0)
      </div>
      <div class="foldContent" style="display: none;">
        
          <p class="none_text">None</p>
        
      </div>
    </div>
        
    <!-- Sources -->
        <div class="fold">
      <div class="foldTitle">
        Inputs (5)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
          
                          <tr>
                <td><b>sequenceFileName</b></td>
                <td>
                  
                    
                      Provide the name, and if not in your working directory, the location of the file of fasta sequence(s) that you wish to use to search the blast database created in this workflow.                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>database_input</b></td>
                <td>
                  
                    
                      the fasta filepath to be used to format a database to blastall against                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>evalue</b></td>
                <td>
                  
                    
                      evalue to be used for blastall                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>minP</b></td>
                <td>
                  
                    
                      minimum percent identity to parse the blast results.                      <hr />
                    
                      minimum percent identity to parse the blast results.			                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>maxE</b></td>
                <td>
                  
                    
                      maximum expectation value to parse the blast results with                      
                    
                  
                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
      
    <!-- Processors -->
        <div class="fold">
      <div class="foldTitle">
        Processors (8)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          
                          <tr>
                <td><b>runBlastSearch</b></td>
                <td>localworker</td>
                <td>
                                    <div><h3>Script</h3><pre>if (command == void || command.equals("")) {	throw new RuntimeException("The 'command' port cannot be null.");}Process proc = null;Runtime rt = Runtime.getRuntime();String osName = System.getProperty("os.name");String[] cmdArray = null;String qry = "";if (osName.equals("Windows NT") || osName.equals("Windows XP") || osName.equals("Windows Vista")) {	cmdArray = new String[] { "cmd.exe", "/c", command };} else if (osName.equals("Windows 95")) {	cmdArray = new String[] { "command.exe", "/c", command };} else {// TODO: investigate if this will work in Linux and OSX	cmdArray = new String[] { command };}qry += command + " ";// concatenate the arraysif ((args == void) || (args == null)) {	args = new ArrayList();}int argSize = cmdArray.length + args.size();ArrayList appArray = new ArrayList(argSize);for (int i = 0; i < cmdArray.length; i++) {	appArray.add(cmdArray[i]);}for (int i = 0; i < args.size(); i++) {	appArray.add(args.get(i));	qry += args.get(i);	qry += " ";}String[] applist = new String[argSize];appArray.toArray(applist);proc = rt.exec(applist);// Get the input stream and read from itInputStream in = proc.getInputStream();int c;StringBuffer sb = new StringBuffer();while ((c = in.read()) != -1) {	sb.append((char) c);}in.close();result = sb.toString();theQuery = qry;</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>local_create_blastdb</b></td>
                <td>localworker</td>
                <td>
                                    <div><h3>Script</h3><pre>if (command == void || command.equals("")) {	throw new RuntimeException("The 'command' port cannot be null.");}Process proc = null;Runtime rt = Runtime.getRuntime();String osName = System.getProperty("os.name");String[] cmdArray = null;if (osName.equals("Windows NT") || osName.equals("Windows XP")) {	cmdArray = new String[] { "cmd.exe", "/c", command };} else if (osName.equals("Windows 95")) {	cmdArray = new String[] { "command.exe", "/c", command };} else {// TODO: investigate if this will work in Linux and OSX	cmdArray = new String[] { command };}// concatenate the arraysif ((args == void) || (args == null)) {	args = new ArrayList();}int argSize = cmdArray.length + args.size();ArrayList appArray = new ArrayList(argSize);for (int i = 0; i < cmdArray.length; i++) {	appArray.add(cmdArray[i]);}for (int i = 0; i < args.size(); i++) {	appArray.add(args.get(i));}String[] applist = new String[argSize];appArray.toArray(applist);proc = rt.exec(applist);// Get the input stream and read from itInputStream in = proc.getInputStream();int c;StringBuffer sb = new StringBuffer();while ((c = in.read()) != -1) {	sb.append((char) c);}in.close();result = sb.toString();</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>create_blastall_cmdArgs</b></td>
                <td>beanshell</td>
                <td>
                                    <div><h3>Script</h3><pre>List cmdArgsList = new ArrayList();cmdArgsList.add("-p");cmdArgsList.add("blastp");cmdArgsList.add("-d");cmdArgsList.add("./BlastDB");cmdArgsList.add("-i");cmdArgsList.add(sequenceFileName);cmdArgsList.add("-e");cmdArgsList.add(evalue);cmdArgsList.add("-m");cmdArgsList.add("8");</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>create_formatdb_cmdArgs</b></td>
                <td>beanshell</td>
                <td>
                                    <div><h3>Script</h3><pre>List cmdArgsList = new ArrayList();cmdArgsList.add("-i");cmdArgsList.add(dbsequences);cmdArgsList.add("-p");cmdArgsList.add("T");cmdArgsList.add("-n");cmdArgsList.add("BlastDB");</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>runBlastSearch_command_defaultValue</b></td>
                <td>stringconstant</td>
                <td>
                                    <div><h3>Value</h3>D:\BLAST\bin\blastall</div>                </td>
              </tr>
                          <tr>
                <td><b>local_create_blastdb_command_defaultValue</b></td>
                <td>stringconstant</td>
                <td>
                                    <div><h3>Value</h3>D:\BLAST\bin\formatdb</div>                </td>
              </tr>
                          <tr>
                <td><b>parse_blast_results</b></td>
                <td>beanshell</td>
                <td>
                                    <div><h3>Script</h3><pre>// "uniprot:P02745 "// takes a string of \t separated results and \n //String minP = "30.0";//String maxE = "2.0";StringBuffer sb1 = new StringBuffer();StringBuffer sb2 = new StringBuffer();  double minPercent = Double.parseDouble(minP);double maxEvalue = Double.parseDouble(maxE);int count = 0;protein_list = new ArrayList();sb2.append("thresholds:  minP=" + minP + ", maxE=" + maxE + "\n========================\n");String [] rows = blast_results.split("\n");    for(int i = 0; i < rows.length; ++i)  {	String [] cols = rows[i].split("\t");        if(cols != null && cols.length > 9)        {	  String [] query = cols[0].split("[|]");	  String uniProtId = cols[1].replaceAll("[|]","").trim();	  String percent = cols[2].trim(); 	  String e_val = cols[10].trim();          double max1 = 0;          double max2 = 0;	  	  if( Double.parseDouble(percent) >= minPercent && Double.parseDouble(e_val) <= maxEvalue ) {                  //sb1.append("uniprot:"         + uniProtId + " ");                  protein_list.add("uniprot:"         + query[1]);				  				  	  	  sb2.append(">>> query id="     + query[1]);          sb2.append(", name="            + query[2]);	  	  sb2.append(", hit uniProt id=" + uniProtId);	  	  sb2.append(", % identity="     + percent);	  	  sb2.append(", e value ="        + e_val + "\n"); 	  }        }  }   HashSet h = new HashSet(protein_list);   protein_list.clear();   protein_list.addAll(h);// "uniprot:P00734 uniprot:P00737";  // probably on works if both have same pathway id//  sb1.toString();  records = sb2.toString();</pre></div>                </td>
              </tr>
                          <tr>
                <td><b>Merge_String_List_to_a_String</b></td>
                <td>localworker</td>
                <td>
                                    <div><h3>Script</h3><pre>String seperatorString = "\n";StringBuffer sb = new StringBuffer();for (Iterator i = stringlist.iterator(); i.hasNext();) {	String item = (String) i.next();	sb.append(item);	if (i.hasNext()) {		sb.append(seperatorString);	}}concatenated = sb.toString();</pre></div>                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Beanshells -->
        <div class="fold">
      <div class="foldTitle">
        Beanshells (3)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Inputs</th>
              <th>Outputs</th>
            </tr>
          
                          <tr>
                <td><b>create_blastall_cmdArgs</b></td>
                <td></td>
                <td>
                  
                    
                      sequenceFileName                      <hr />
                    
                      evalue                      
                    
                  
                </td>
                <td>
                  
                    
                      cmdArgsList                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>create_formatdb_cmdArgs</b></td>
                <td></td>
                <td>
                  
                    
                      dbsequences                      
                    
                  
                </td>
                <td>
                  
                    
                      cmdArgsList                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>parse_blast_results</b></td>
                <td></td>
                <td>
                  
                    
                      blast_results                      <hr />
                    
                      minP                      <hr />
                    
                      maxE                      
                    
                  
                </td>
                <td>
                  
                    
                      protein_list                      <hr />
                    
                      records                      
                    
                  
                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Sinks -->
        <div class="fold">
      <div class="foldTitle">
        Outputs (4)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
          
                          <tr>
                <td><b>Result</b></td>
                <td>
                  
                    
                      resulting blast report in tabular format                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>queryEntered</b></td>
                <td>
                  
                    
                      A List of blast results containing the usual information such as query id, hit id, percent identity etc                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>proteinList</b></td>
                <td>
                  
                    
                      list of uniprot accession numbers in a format that can be searched against KEGG                      
                    
                  
                </td>
              </tr>
                          <tr>
                <td><b>Blast_hits</b></td>
                <td>
                  
                    
                      A List of blast results containing the usual information such as query id, hit id, percent identity etc                      
                    
                  
                </td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Datalinks -->
        <div class="fold">
      <div class="foldTitle">
        Datalinks (15)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Source</th>
              <th>Sink</th>
            </tr>
          
                          <tr>
                <td>create_blastall_cmdArgs:cmdArgsList</td>
                <td>runBlastSearch:args</td>
              </tr>
                          <tr>
                <td>runBlastSearch_command_defaultValue:value</td>
                <td>runBlastSearch:command</td>
              </tr>
                          <tr>
                <td>local_create_blastdb_command_defaultValue:value</td>
                <td>local_create_blastdb:command</td>
              </tr>
                          <tr>
                <td>create_formatdb_cmdArgs:cmdArgsList</td>
                <td>local_create_blastdb:args</td>
              </tr>
                          <tr>
                <td>sequenceFileName</td>
                <td>create_blastall_cmdArgs:sequenceFileName</td>
              </tr>
                          <tr>
                <td>evalue</td>
                <td>create_blastall_cmdArgs:evalue</td>
              </tr>
                          <tr>
                <td>database_input</td>
                <td>create_formatdb_cmdArgs:dbsequences</td>
              </tr>
                          <tr>
                <td>runBlastSearch:result</td>
                <td>parse_blast_results:blast_results</td>
              </tr>
                          <tr>
                <td>maxE</td>
                <td>parse_blast_results:maxE</td>
              </tr>
                          <tr>
                <td>minP</td>
                <td>parse_blast_results:minP</td>
              </tr>
                          <tr>
                <td>parse_blast_results:protein_list</td>
                <td>Merge_String_List_to_a_String:stringlist</td>
              </tr>
                          <tr>
                <td>runBlastSearch:result</td>
                <td>Result</td>
              </tr>
                          <tr>
                <td>runBlastSearch:theQuery</td>
                <td>queryEntered</td>
              </tr>
                          <tr>
                <td>Merge_String_List_to_a_String:concatenated</td>
                <td>proteinList</td>
              </tr>
                          <tr>
                <td>parse_blast_results:records</td>
                <td>Blast_hits</td>
              </tr>
            
          </table>
        
      </div>
    </div>
    
    <!-- Coordinations -->
        <div class="fold">
      <div class="foldTitle">
        Coordinations (1)
      </div>
      <div class="foldContent" style="display: none;">
                  <table class="simple">
            <tr>
              <th>Controller</th>
              <th>Target</th>
            </tr>
          
                          <tr>
                <td>local_create_blastdb</td>
                <td>runBlastSearch</td>
              </tr>
            
          </table>
        
      </div>
    </div>
  
    

          
      
    </div>

  </div>

</div>

<div class="contribution_right_box">
  <div class="contribution_section_box" style= "font-size: 100%; padding: 0.7em 0.9em; font-weight: bold;">
    <p><img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The type of workflow system that this Workflow is designed for.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" /> Workflow Type</p>
    <p><a href="/content_types/2">Taverna 2</a></p>
  </div>

  <div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The Uploader is the person who uploaded/created this Workflow on myExperiment, and who manages it on myExperiment.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Uploader
	</p>
	<p>
		<center>
			<div class="avatar" style="width: 66px">
  <a href="/users/7581"><img alt="Avatar" class="framed" height="60" src="/images/avatar.png?1680607579" title="Andrew David King" width="60" /></a>
  
	<span style="display:block;margin-top:2px;text-align:center;">
		
			<img alt="Gb" src="/images/famfamfam_flags/gb.png?1680607579" style="vertical-align:middle; margin-right: 0.3em;" title="header=[] body=[&lt;b&gt;Location: &lt;/b&gt;Newcastle upon Tyne, United Kingdom] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		

    
			<a href="/users/7581" title="header=[] body=[Andrew David King] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Andrew David King</a>
		

    
	</span>
  
</div>

		</center>
	</p>
</div>


  

  

<div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This specifies what rights users have when they download and use this Workflow.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		License
		<a name="license"></a>
	</p>

  

    
    
    
    
    


    

    <!--

    <rdf:RDF xmlns="http://creativecommons.org/ns#"
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
    <Work rdf:about="">
       <dc:title>BlastandParse2</dc:title>
       <dc:date>2010-03-19 12:20:29 UTC</dc:date>
       <dc:description>&lt;p&gt;
This workflow allows you to configure a BioMart query to fetch sequences you want from Ensembl. These sequences are retrieved and a blast database of them is created (by default, in the directory you ran taverna from). 
&lt;/p&gt;

&lt;p&gt;
Warning: This workflow assumes that you have blastall and formatdb installed on the machine, and that by default, these are both found or linked in /usr/local/bin. It also assumes that you have write permission to the directory you have run taverna from. The beanshells &quot;create_blastall_cmdArgs&quot; and &quot;create_formatdb_cmdArgs&quot; are what you need to edit if the default locations are not appropriate for you.
&lt;/p&gt;

&lt;p&gt;
Shortcomings:
&lt;/p&gt;

&lt;p&gt;
The names of all the files created and used is hard coded in this workflow. This means that if you run this workflow more than once without editing anything, you will overwrite files you have previously created.
&lt;/p&gt;

&lt;p&gt;
The results of the blastall are parsed to give those that are above the max e-value and minimum percent identity as indicated by the user and an output of uniprot accession numbers is created that can be searched against KEGG.
&lt;/p&gt;

</dc:description>
       <dc:creator><Agent>
          <dc:title><a href="/users/7581" title="header=[] body=[Andrew David King] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Andrew David King</a></dc:title>
       </Agent></dc:creator>
       <dc:rights><Agent>
          <dc:title><a href="/users/7581" title="header=[] body=[Andrew David King] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Andrew David King</a></dc:title>
       </Agent></dc:rights>
       <dc:type rdf:resource="http://purl.org/dc/dcmitype/Data" />
       <dc:source rdf:resource="http://www.myexperiment.org/workflows/1170.html"/>
       <license rdf:resource="http://creativecommons.org/licenses/by-nd/3.0/" />
    </Work>

    <License rdf:about="http://creativecommons.org/licenses/by-nd/3.0/">
      <permits rdf:resource="http://creativecommons.org/ns#Reproduction" />  <permits rdf:resource="http://creativecommons.org/ns#Distribution" />  <requires rdf:resource="http://creativecommons.org/ns#Notice" />  <requires rdf:resource="http://creativecommons.org/ns#Attribution" />
    </License>

    </rdf:RDF>

    -->

  

  <div class="contribution_currentlicense">
    <p>
      
        All versions of this Workflow are
      
      
        licensed under: <br/><br/><a rel="Copyright" href="/licenses/1" title="Creative Commons Attribution-No Derivative Works 3.0 Unported License"><img src="/images/by-nd.png" /></a>
      
    </p>
  </div>
	
</div>


  <script type="text/javascript">
    function showVersion(form) {
        var url = $("resource_versions").value;
        location.href = url;
        form.submit
    }
</script>
<style>
  .version_selection {
      font-size:smaller;
      text-align: center;
  }
</style>

<div class="contribution_section_box">
  <p class="heading">
    <img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[This box shows version 1 for this entry] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />    <span>Version 1 </span>
    <span class="count_text">(of 1)</span>
  </p>
  
</div>

  <div class="contribution_section_box">
	
	<p class="heading" style="margin-bottom: 0; padding-bottom: 0;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[Which people/groups get the credit for this Workflow?] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Credits <span class="count_text">(1)</span>
		<a name="credits"></a>
	</p>
	<span style="font-size: 85%; color: #666666; display: block; padding: 0.3em 0.5em 0 0.5em; margin: 0; line-height: 1em;">(People/Groups)</span>
	
		<div style="font-size: 85%;">
			<ul class="items">
				
					<li>
						
							
								<span class="icon"><img alt="Network-member" src="/images/famfamfam_silk/group.png?1680607579" /> </span>
							
							<a href="/groups/246">Baywatch Solutions</a>
						
					</li>
				
			</ul>
		</div>
	
	
	
	<p class="heading" style="margin-bottom: 0; padding-bottom: 0;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[What other Workflows/Files is this one based on?] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Attributions <span class="count_text">(1)</span>
		<a name="attributions"></a>
	</p>
	<span style="font-size: 85%; color: #666666; display: block; padding: 0.3em 0.5em 0 0.5em; margin: 0; line-height: 1em;">(Workflows/Files)</span>
	
		<div style="font-size: 85%;">
			<p>
				<ul class="items">
					
						<li>
							
								
									
										<span class="icon"><img alt="Workflow" src="/images/redmond_studio/applications_16.png?1680607579" /> </span> 
									 
									<a href="/workflows/182">fetchEnsemblSeqsAndBlast</a>
								
						  
						</li>
					
				</ul>
			</p>
		</div>
	
	
	
		<p style="text-align: right;"><small>[ <a href="/workflows/1170/edit">edit</a> ]</small></p>
	
	
</div>


  


  <div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The tags for this Workflow entry.&lt;br/&gt;Note(1): if this Workflow has many versions, the tags apply to ALL versions in this entry.&lt;br/&gt;Note(2): the size of the tags show how popular they are on myExperiment.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Tags <span id="tags_box_header_tag_count_span" class="count_text">(0)</span>
		<a name="tags"></a>
	</p>

	<script type="text/javascript">
  function showAllTags() {
    Element.show('all_tags');
	  Element.hide('user_tags');
	  return false;
  }
  
  function showUsersTags() {
  	Element.hide('all_tags');
	  Element.show('user_tags');
	  return false;
  }
	
	function flip_tags_mode()
	{
		if( $('toggle_tags_mode').checked )
		  showUsersTags();
	  else
		  showAllTags();
	}
</script>

<div id="tags_inner_box">
	
		<p class="none_text">None</p>
	
</div>
	
	
	
	
		<p><small><b><a href="/session/new">Log in</a></b> to add Tags</small></p>
	
</div>


  
<div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[All the Groups that this item has been shared with] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Shared with Groups <span class="count_text">(1)</span>
	</p>
	
		<div style="font-size: 85%;">
			<ul class="items">
				
					<li>
						<span class="icon"><img alt="Network-member" src="/images/famfamfam_silk/group.png?1680607579" /> </span>
						<a href="/groups/246">Baywatch Solutions</a>
					</li>
				
			</ul>
		</div>
	
</div>

  <div class="contribution_section_box" id="in_packs_box">
  
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[All the Packs that this item (or versions of this item [[if available]]) is referred to in] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Featured In Packs  <span class="count_text">(0)</span>
		<a name="featured_in_packs"></a>
	</p>
	
		<p class="none_text">None</p>
	
	
	
		<p><small><b><a href="/session/new">Log in</a></b> to add to one of your Packs</small></p>
	
</div>


  <div class="contribution_section_box">
	
	<p class="heading" style="margin-bottom: 0; padding-bottom: 0;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[Shows files and workflows that have attributed this Workflow.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Attributed By <span class="count_text">(0)</span>
	  <a name="attributed_by"></a>
	</p>
	<span style="font-size: 85%; color: #666666; display: block; padding: 0.3em 0.5em 0 0.5em; margin: 0; line-height: 1em;">(Workflows/Files)</span>
	
		
		<p class="none_text">None</p>
	
	
</div>


  
<div class="contribution_section_box">
	<p class="heading">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[The users who have added this Workflow to their favourites] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Favourited By <font class="count_text">(0)</font>
		<a name="favourited_by"></a>
	</p>
	
	
		<p class="none_text">No one</p>
	
	
	
</div>

  

<div class="contribution_section_box">
	<p class="heading" style="margin-bottom: 0.3em;">
		<img alt="Information" src="/images/famfamfam_silk/information.png?1680607579" style="vertical-align:middle;" title="header=[] body=[Viewing / download counts are grand totals for this Workflow.&lt;br/&gt;Click &#39;see breakdown&#39; to view details.] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]" />
		Statistics
	</p>
	
	<div class="stats_box"> 
		<p style="font-size: 85%;">
  1855 viewings
</p>

	<p style="font-size: 85%;">
	  1519 downloads
	</p>

<p style="margin-top: 0.2em;">
	<small>[ <a href="/workflows/1170/statistics">see breakdown</a> ]</small>
</p>
		
		<div class="fold" style="padding-top: 0.6em;">
			<div class="foldTitle">More</div>
			<div class="foldContent" style="display: none; text-align: left;">
				
					<p>
						<a href="#credits">1 credit</a> <!-- won't work for type=='group'; needs anchor called '#group_creditations' -->
					</p>
					
					<p>
						<a href="#attributions">1 attribution</a>
					</p>
				
				
				
					<p>
			      <a href="#tags">0 tags</a>
			    </p>
				
				
				
					<p>
			      <a href="#favourited_by">0 favourites</a>
			    </p>
				

				
					<p>
						<a href="#citations">0 citations</a>
			    </p>
				
				
				
					<p>
			      <a href="#reviews">0 reviews</a>
			    </p>
				
				
				
			    <p>
			    	<a href="#comments">0 comments</a>
			    </p>
				
			</div>
		</div>
		
		
		
		
	</div>
</div>

</div>

<div class="clearer">&nbsp;</div>

<!-- BEGIN tabs -->

<br/>

<div id="tabsContainer" class="tabsContainer"></div>

<div class="tabContainer">
  <div class="tabTitle">Citations (0)</div>
  <div class="tabContent">

    <a name="citations"></a>
    
      <p><i>None</i></p>
    
		
		<br/>

    
	    <ul class="sectionIcons">
	      <li><span class="icon"><a href="/workflows/1170/citations/new"><img alt="New" src="/images/redmond_studio/add_16.png?1680607579" /> New Citation</a></span></li>
	      <li><span class="icon"><a href="/workflows/1170/citations"><img alt="Edit" src="/images/famfamfam_silk/pencil.png?1680607579" /> Edit Citations</a></span></li>
	    </ul>
	  

  </div>
</div>


<div class="tabContainer">
  <div class="tabTitle">Version History</div>
  <div class="tabContent">
    <a name="version_history"></a>
    <p>In chronological order:</p>

<ol class="version_history">
  
    <li>
      <div class="title">
        <a href="/workflows/1170/versions/1">BlastandParse2</a>
      </div>
      <div class="metadata">

        <p>
          Created
          
            by <a href="/users/7581" title="header=[] body=[Andrew David King] cssheader=[boxoverTooltipHeader] cssbody=[boxoverTooltipBody] delay=[200]">Andrew David King</a>
          
          on Friday 19 March 2010 12:20:29 (UTC)
        </p>

        

        
      </div>
    </li>
  
</ol>


  </div>
</div>



<!-- END tabs -->

<br/>
<br/>

<div id="ratingsBox">
  <h2>
	<span class="icon"><img alt="Reviews" src="/images/famfamfam_silk/report.png?1680607579" /> </span>	<span style="vertical-align: middle;"><a href="/workflows/1170/reviews">Reviews</a></span>
	<span class="count_text" style="vertical-align: middle;">(0)</span>
</h2>

<div class="reviewsBox">

	
		<p><i>No reviews yet</i></p>
		<a name="reviews"></a>
		<p style="margin-top: 0.6em;">
			<strong><a href="/workflows/1170/reviews/new">Be the first to review!</a></strong>
		</p>
	
	
</div>

</div>

<br/>
<br/>

<div id="commentsBox">
  <script src="/javascripts/ckeditor/ckeditor.js?1680607579" type="text/javascript"></script>
<script src="/javascripts/widgets/tooltip.js?1680607579" type="text/javascript"></script>

<h2>
	<span class="icon"><img alt="Comments" src="/images/famfamfam_silk/comments.png?1680607579" /> </span>	<span style="vertical-align: middle;">Comments</span>
	<span class="count_text" style="vertical-align: middle;">(0)</span>
</h2>

<ul class="sectionIcons">
  <li><span class="icon"><a href="http://www.myexperiment.org/workflows/1170/comments/timeline"><img alt="Timeline" src="/images/famfamfam_silk/timeline_marker.png?1680607579" /> View Timeline</a></span></li>
</ul>

<div class="commentsBox">
	
	
		<p><i>No comments yet</i></p>
		<a name="comments"></a>
		
			<p style="margin-top: 0.6em;"><strong><a href="/session/new">Log in</a> to make a comment </strong></p>
		
	
	
	<br/>
	
	

</div>


</div>

<!-- Other workflows that use a service this workflow users -->

<br />
<br />

<h2>
  <span class="icon"><img alt="Workflow" src="/images/redmond_studio/applications_16.png?1680607579" /> </span>  <span style="vertical-align: middle;">Other workflows that use similar services</span>
  <span class="count_text" style="vertical-align: middle;">(0)</span>
</h2>




    <p>There are no workflows in myExperiment that use similar services to this Workflow.</p>



<!-- OpenURL context object -->

<span class="Z3988" title="url_ver=Z39.88-2004&amp;url_ctx_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Actx&amp;ctx_ver=Z39.88-2004&amp;ctx_tim=2023-08-16T04%3A31%3A40%2B00%3A00&amp;ctx_id=&amp;ctx_enc=info%3Aofi%2Fenc%3AUTF-8&amp;rft.title=BlastandParse2&amp;rft.date=2010-03-19&amp;rft.au=Andrew+David+King&amp;rft.genre=unknown&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc"></span>
      </div>
    </div>




            <div id="ft">
          <div class="container">
  <div class="row">
    <div class="col-md-4 text-left">
      Funded by:
      <a href="http://biovel.eu">BioVeL</a>,
      <a href="http://www.epsrc.ac.uk/">EPSRC</a>,
      <a href="http://jisc.ac.uk/">JISC</a>,
      <a href="http://www.microsoft.com">Microsoft</a>

      <br/><br/>

      Affiliates:
      <a href="http://www.mygrid.org.uk">myGrid</a>,
      <a href="http://www.taverna.org.uk/">Taverna</a>,
      <a href="http://www.biocatalogue.org">BioCatalogue</a>
    </div>

    <div class="col-md-4 text-center">
      <a href="/about">About</a> |
      <a href="/privacy">Privacy</a> |
      <a href="http://wiki.myexperiment.org/index.php/Papers">Publications</a> |
      <a href="/feedback">Contact / Feedback</a> |
      <a href="http://lists.nongnu.org/mailman/listinfo/myexperiment-discuss">Mailing List</a>
    </div>

    <div class="col-md-4 text-right">
      Icons: <a href="http://www.famfamfam.com/lab/icons/silk/">Silk icon set 1.3</a><br/><br/>
      
    </div>

  </div>
  <div class="row">
    <div class="col-md-12 text-center">
      Copyright &#169; 2007 &ndash; 2018
      <a href="http://www.manchester.ac.uk/">The University of Manchester</a>
      and
      <a href="http://www.soton.ac.uk/">University of Southampton</a>
    </div>
  </div>
</div>

        </div>
    



<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1498417-4', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
</script>




</body>
</html>

